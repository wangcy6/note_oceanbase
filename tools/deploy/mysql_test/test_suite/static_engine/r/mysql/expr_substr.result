result_format: 4



set @@ob_enable_plan_cache = 0;

select substr('abcdef', 0) from dual;
+---------------------+
| substr('abcdef', 0) |
+---------------------+
|                     |
+---------------------+
select substr('abcdef', -1) from dual;
+----------------------+
| substr('abcdef', -1) |
+----------------------+
| f                    |
+----------------------+
select substr('abcdef', 1) from dual;
+---------------------+
| substr('abcdef', 1) |
+---------------------+
| abcdef              |
+---------------------+
select substr('abcdef', 2) from dual;
+---------------------+
| substr('abcdef', 2) |
+---------------------+
| bcdef               |
+---------------------+
select substr('abcdef', 10) from dual;
+----------------------+
| substr('abcdef', 10) |
+----------------------+
|                      |
+----------------------+
select substr('', 1) from dual;
+---------------+
| substr('', 1) |
+---------------+
|               |
+---------------+
select substr('abcdef', 10) from dual;
+----------------------+
| substr('abcdef', 10) |
+----------------------+
|                      |
+----------------------+
select substr('abcdef', 2, 1) from dual;
+------------------------+
| substr('abcdef', 2, 1) |
+------------------------+
| b                      |
+------------------------+
select substr('abcdef', 2, 2) from dual;
+------------------------+
| substr('abcdef', 2, 2) |
+------------------------+
| bc                     |
+------------------------+
select substr('abcdef', 2, 0) from dual;
+------------------------+
| substr('abcdef', 2, 0) |
+------------------------+
|                        |
+------------------------+
select substr('abcdef', 2, -1) from dual;
+-------------------------+
| substr('abcdef', 2, -1) |
+-------------------------+
|                         |
+-------------------------+
select substr('abcdef', 2, 100) from dual;
+--------------------------+
| substr('abcdef', 2, 100) |
+--------------------------+
| bcdef                    |
+--------------------------+
select substr('', 2, 100) from dual;
+--------------------+
| substr('', 2, 100) |
+--------------------+
|                    |
+--------------------+

select substr(NULL, 2, 1) from dual;
+--------------------+
| substr(NULL, 2, 1) |
+--------------------+
| NULL               |
+--------------------+
select substr('abcdef', NULL, 1) from dual;
+---------------------------+
| substr('abcdef', NULL, 1) |
+---------------------------+
| NULL                      |
+---------------------------+
select substr('abcdef', 2, NULL) from dual;
+---------------------------+
| substr('abcdef', 2, NULL) |
+---------------------------+
| NULL                      |
+---------------------------+

select substr(3.14159, 2, 3) from dual;
+-----------------------+
| substr(3.14159, 2, 3) |
+-----------------------+
| .14                   |
+-----------------------+
explain select substr(3.14159, '2', '3') from dual;
Query Plan
==========================================
|ID|OPERATOR  |NAME|EST.ROWS|EST.TIME(us)|
------------------------------------------
|0 |EXPRESSION|    |1       |1           |
==========================================
Outputs & filters:
-------------------------------------
  0 - output([substr(cast(3.14159, VARCHAR(1048576)), cast('2', BIGINT(-1, 0)), cast('3', BIGINT(-1, 0)))]), filter(nil)
      values({substr(cast(3.14159, VARCHAR(1048576)), cast('2', BIGINT(-1, 0)), cast('3', BIGINT(-1, 0)))})
select substr(3.14159, '2', '2.1') from dual;
+-----------------------------+
| substr(3.14159, '2', '2.1') |
+-----------------------------+
| .1                          |
+-----------------------------+
select substr(3.14159, '2', '2.9') from dual;
+-----------------------------+
| substr(3.14159, '2', '2.9') |
+-----------------------------+
| .1                          |
+-----------------------------+
select substr(3.14159, '2', '2.9') from dual;
+-----------------------------+
| substr(3.14159, '2', '2.9') |
+-----------------------------+
| .1                          |
+-----------------------------+
select substr(3.14159, '2.1', '2.9') from dual;
+-------------------------------+
| substr(3.14159, '2.1', '2.9') |
+-------------------------------+
| .1                            |
+-------------------------------+
select substr(3.14159, '2.9', '2.9') from dual;
+-------------------------------+
| substr(3.14159, '2.9', '2.9') |
+-------------------------------+
| .1                            |
+-------------------------------+
select substr(3.14159, 2.1, '2.9') from dual;
+-----------------------------+
| substr(3.14159, 2.1, '2.9') |
+-----------------------------+
| .1                          |
+-----------------------------+
select substr(3.14159, 2.9, '2.9') from dual;
+-----------------------------+
| substr(3.14159, 2.9, '2.9') |
+-----------------------------+
| 14                          |
+-----------------------------+
select substr(3.14159, 2.9, 2.9) from dual;
+---------------------------+
| substr(3.14159, 2.9, 2.9) |
+---------------------------+
| 141                       |
+---------------------------+
select substr(3.14159, 2.1, 2.1) from dual;
+---------------------------+
| substr(3.14159, 2.1, 2.1) |
+---------------------------+
| .1                        |
+---------------------------+
